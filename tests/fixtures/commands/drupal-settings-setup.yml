
- configuration: []
  initial_default_settings: |
    <?php
    $foo = 'bar';
  initial_settings: ~
  expectations:
    - file: "build/sites/default/settings.php"
      contains: |
        <?php
        $foo = 'bar';

        // Start Toolkit settings block.

        $databases['default']['default'] = array(
          'database' => getenv('DRUPAL_DATABASE_NAME'),
          'username' => getenv('DRUPAL_DATABASE_USERNAME'),
          'password' => getenv('DRUPAL_DATABASE_PASSWORD'),
          'prefix' => getenv('DRUPAL_DATABASE_PREFIX'),
          'host' => getenv('DRUPAL_DATABASE_HOST'),
          'port' => getenv('DRUPAL_DATABASE_PORT'),
          'driver' => 'mysql',
        );

        $drupal_hash_salt = 'YWJj';

        // Load environment development override configuration, if available.
        // Keep this code block at the end of this file to take full effect.
        if (file_exists($app_root . '/' . $site_path . '/settings.override.php')) {
          include $app_root . '/' . $site_path . '/settings.override.php';
        }

        // End Toolkit settings block.
      not_contains: ~

- configuration:
    drupal:
      additional_settings: |
        $config['cas.settings']['server']['hostname'] = getenv('CAS_HOSTNAME');
        $config['cas.settings']['server']['port'] = getenv('CAS_PORT');
  initial_default_settings: |
    <?php
    $foo = 'bar';
  initial_settings: ~
  expectations:
    - file: "build/sites/default/settings.php"
      contains: |
        <?php
        $foo = 'bar';

        // Start Toolkit settings block.

        $databases['default']['default'] = array(
          'database' => getenv('DRUPAL_DATABASE_NAME'),
          'username' => getenv('DRUPAL_DATABASE_USERNAME'),
          'password' => getenv('DRUPAL_DATABASE_PASSWORD'),
          'prefix' => getenv('DRUPAL_DATABASE_PREFIX'),
          'host' => getenv('DRUPAL_DATABASE_HOST'),
          'port' => getenv('DRUPAL_DATABASE_PORT'),
          'driver' => 'mysql',
        );
        $config['cas.settings']['server']['hostname'] = getenv('CAS_HOSTNAME');
        $config['cas.settings']['server']['port'] = getenv('CAS_PORT');
        $drupal_hash_salt = 'YWJj';

        // Load environment development override configuration, if available.
        // Keep this code block at the end of this file to take full effect.
        if (file_exists($app_root . '/' . $site_path . '/settings.override.php')) {
          include $app_root . '/' . $site_path . '/settings.override.php';
        }

        // End Toolkit settings block.
      not_contains: ~

- configuration: []
  initial_default_settings: |
    <?php
    $hash = '';
  initial_settings: |
    <?php
    $hash = '12345';
  expectations:
    - file: "build/sites/default/settings.php"
      contains: |
        <?php
        $hash = '12345';

        // Start Toolkit settings block.

        $databases['default']['default'] = array(
          'database' => getenv('DRUPAL_DATABASE_NAME'),
          'username' => getenv('DRUPAL_DATABASE_USERNAME'),
          'password' => getenv('DRUPAL_DATABASE_PASSWORD'),
          'prefix' => getenv('DRUPAL_DATABASE_PREFIX'),
          'host' => getenv('DRUPAL_DATABASE_HOST'),
          'port' => getenv('DRUPAL_DATABASE_PORT'),
          'driver' => 'mysql',
        );

        $drupal_hash_salt = 'YWJj';

        // Load environment development override configuration, if available.
        // Keep this code block at the end of this file to take full effect.
        if (file_exists($app_root . '/' . $site_path . '/settings.override.php')) {
          include $app_root . '/' . $site_path . '/settings.override.php';
        }

        // End Toolkit settings block.
      not_contains: ~
